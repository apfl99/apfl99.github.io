---
title: "The Merge"
categories:
 - DankSharding
tags: [Ethereum 2.0, Vitalik Buterin’s Endgame, A rollup-centric ethereum roadmap] 
toc: true
author_profile: true #profile sidebar 감추기
# sidebar:
#     nav: "docs" # 목차 사이드바
search: true #검색 피하기




---

# The Merge

------

"The Merge"란 이더리움의 원래 실행 계층과 새로운 지분 증명 합의 계층인 Beacon Chain을 결합한 것이다. 

Beacon Chain은 원래 메인넷 트랜잭션을 처리하지 않고 유효성 검사자와 계정 잔액에 동의하여 자체 상태에 대한 합의만 담당하였지만, "The Merge"이후 Beacon Chain은 실행 계층 거래 및 계정 잔액을 포함한 모든 네트워크 데이터의 합의 엔진이 되었다.



## Beacon Chain

---



### Beacon Chain의 핵심 기능

---

Beacon Chain의 핵심 기능은 자체 및 모든 샤드 체인에 대한 지분 증명 프로토콜을 관리하는 것이다.

여기에는

- 유효성 검사기 및 해당 지분 관리
- 각 단계에서 각 샤드에 대해 선택된 블록 제안자를 지명
- 검증자를 위원회로 구성하여 제안된 블록에 투표
- 합의 규칙 적용 검증자에게 보상 및 패널티 적용
- 교차 샤드 트랜잭션을 용이하게 하기 위한 샤드가 상태를 등록하는 앵커 포인트

가 있다.



#### 슬롯 및 에포크

----

- Slot : 12초
  - 시스템이 최적으로 실행될 때 1slot마다 하나의 블록 추가
  - 따라서 1slot마다 꼭 하나의 블록이 생성되는 것은 아님
- Epoch : 6.4분



#### 유효성 검사기 관리 및 증명

---

유효성 검사기는 Ethereum의 합의를 실행, 

Block Proposer는 블록을 구축하기 위해 의사 무작위(RANDAO)로 선택된 검증자이다.

대부분의 경우 유효성 검사기는 블록에 투표하는 증명자이다.

즉, 검증자는 블록 제안자와 블록에 투표하는 증명자로 구성된다.

![Beacon-Chain-Validators](../../images/2023-02-06-TheMerge/Beacon-Chain-Validators.webp)

{: .align-center}

위와 같이 의사 무작위로 선택된 검증자는 각 슬롯마다 존재하며, 블록 제안자가 제안한 블록이 투표되면 제안자는 보상을 받는다.

또한, g와 같이 슬롯이 블록 제안자가 오프라인 상태이거나 Sync가 맞지 않아 제안되지 못할 경우 블록 제안자로 선택된 검증자는 보상을 받지 못한다.



여기서 증명은 유효성 검사기의 잔액에 가중치가 부여된 유효성 검사기의 투표이고, 증명은 블록 외에도 유효성 검사기에 의해 브로드 캐스트된다.

또한, 유효성 검사기는 서로를 감시하고 충돌하는 투표를 하거나 여러 블록을 제안하는 다른 유효성 검사기를 보고하여 보상을 받는다.



즉, 이더리움에서는 사용자가 ETH를 스테이킹하여 유효성 검사기를 활성화하고 제어한다.

이더리움에서는 32ETH 스테이킹마다 하나의 유효성 검사기가 활성화된다.

유효성 검사기는 Beacon Chain 노드를 사용하는 유효성 검사기 클라이언트에 의해 실행되며, 해당 클라이언트는 Beacon 노드 기능을 구현하거나 Beacon 노드를 호출할 수 있다.























<div class="notice">
  <h5>Reference</h5>
  1) <a>https://ethereum.org/ko/upgrades/merge/</a>
  <br>
  2) <a>https://ethos.dev/beacon-chain</a>
  <br>
  3) <a></a>
</div>